{% extends "layout.html" %}
{% block content %}
<h3 class="mb-4 text-center text-light">üìÖ Attendance Records</h3>

<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Timestamp</th>
        <th>Name</th>
        <th>USN</th>
        <th>Block</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for record in records %}
      <tr>
        <td>{{ loop.index + ((page-1)*10) }}</td>
        <td>{{ record.timestamp }}</td>
        <td>{{ record.name }}</td>
        <td>{{ record.usn }}</td>
        <td>{{ record.block }}</td>
        <td>
          <a href="/delete_attendance/{{ record.id }}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this record?')">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<nav class="mt-4">
  <ul class="pagination justify-content-center">
    {% for p in range(1, total_pages+1) %}
      <li class="page-item {% if p == page %}active{% endif %}">
        <a class="page-link" href="/attendance?page={{ p }}">{{ p }}</a>
      </li>
    {% endfor %}
  </ul>
</nav>

<div class="text-center mt-4">
  <a href="/dashboard" class="btn btn-secondary">‚Üê Back to Dashboard</a>
</div>
{% endblock %}
